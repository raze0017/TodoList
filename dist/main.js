(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=[];function t(e,t,n){this.projName=e,this.tkName=t,this.dateVal=n}var n="default";const o=document.querySelector(".dialog"),c=document.createElement("div");c.classList.add("tab"),o.appendChild(c);const a=document.querySelector(".tab"),s=document.createElement("form"),d=document.createElement("label");d.textContent="Task Name";const l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("name","taskName");const r=document.createElement("label");r.textContent="Deadline";const i=document.createElement("input");i.setAttribute("type","date"),i.setAttribute("name","date");const u=document.createElement("button");u.classList.add("submitButton"),u.textContent="Add Task",u.setAttribute("type","submit"),u.classList.add("addTaskSub"),u.style.backgroundColor="#70035f",s.appendChild(d),s.appendChild(l),s.appendChild(r),s.appendChild(i),s.appendChild(u),a.appendChild(s);const m=document.querySelector(".butt"),p=document.querySelector(".project");function h(t){document.querySelector(".taskCont").innerHTML="",e.forEach(((e,n)=>{if(e.projName==t){const t=document.querySelector(".taskCont"),o=document.createElement("div");o.classList.add("taskInd");const c=document.createElement("p");c.textContent=`Task: ${e.tkName}`;const a=document.createElement("p");a.textContent=`Deadline:${e.dateVal} `;const s=document.createElement("input");s.type="checkbox",s.name="taskCheckbox",s.value="checked",s.classList.add("checkbox");const d=document.createElement("button");d.classList.add("deleteButton"),d.innerHTML='<i class="fa fa-trash" style="font-size:20px;color:red;" aria-hidden="true"></i> ',d.addEventListener("click",(()=>{k(n)})),s.addEventListener("change",(function(){this.checked?(c.style.textDecoration="line-through",a.style.textDecoration="line-through"):(c.style.textDecoration="none",a.style.textDecoration="none")})),o.appendChild(s),o.appendChild(c),o.appendChild(a),o.appendChild(d),t.appendChild(o)}}))}function k(t){e.splice(t,1),console.log(e),localStorage.setItem("tasks",JSON.stringify(e)),h(n)}m.addEventListener("click",(function(e){e.preventDefault();const t=p.value;p.value="";const o=document.querySelector(".allProjects"),c=document.createElement("div");c.classList.add("newProj"),c.textContent=t,o.appendChild(c),c.addEventListener("click",(function(e){document.querySelector(".taskCont").innerHTML="",n=c.textContent,console.log(n),h(n)}));const a=JSON.parse(localStorage.getItem("projects"))||[];a.push(t),localStorage.setItem("projects",JSON.stringify(a))})),document.querySelector(".addTask").addEventListener("click",(()=>{document.querySelector(".dialog").showModal()})),document.querySelector(".submitButton").addEventListener("click",(function(c){c.preventDefault();const a=document.createElement("input");a.type="checkbox",a.name="myCheckbox",a.value="checked",a.classList.add("checkbox");const s=l.value,d=i.value,r=new t(n,s,d);e.push(r),localStorage.setItem("tasks",JSON.stringify(e)),l.value="",i.value="",h(n),o.close()})),document.querySelector(".default").addEventListener("click",(function(e){document.querySelector(".taskCont").innerHTML="",n="default",console.log(n),h(n)})),h(n),function(){JSON.parse(localStorage.getItem("projects"))&&function(){const e=document.querySelector(".allProjects");console.log(e);const t=JSON.parse(localStorage.getItem("projects"));t&&t.forEach((t=>{const o=document.createElement("div");o.classList.add("newProj"),o.textContent=t,e.appendChild(o),o.addEventListener("click",(function(e){document.querySelector(".taskCont").innerHTML="",n=o.textContent,console.log(n),h(n)}))}))}();const t=JSON.parse(localStorage.getItem("tasks"));t&&(e.push(...t),console.log(e),h(n))}()}))})();